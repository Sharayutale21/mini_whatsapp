<!DOCTYPE html>
<html>
<head>
  <title>Chatbot Assistant</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-5">
  <h2>ü§ñ Chatbot Assistant</h2>
  <a href="/" class="btn btn-secondary mb-3">‚Üê Back to Chats</a>

  <div id="botChat" class="border rounded p-3 mb-3" style="min-height: 200px;"></div>
  <input id="chatInput" class="form-control mb-2" placeholder="Ask something..." />
  <button onclick="askBot()" class="btn btn-primary">Send</button>

  <script>
    async function askBot() {
      const message = document.getElementById("chatInput").value;
      if (!message) return;
      document.getElementById("botChat").innerHTML += `<p><b>You:</b> ${message}</p>`;
      document.getElementById("chatInput").value = "";

      const res = await fetch("/api/chatbot", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ message })
      });

      const data = await res.json();
      document.getElementById("botChat").innerHTML += `<p><b>Bot:</b> ${data.reply}</p>`;
    }
  </script>
</body>
</html>
